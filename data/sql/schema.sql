CREATE TABLE CONTRATAR_SB (csb_id INT AUTO_INCREMENT, csb_identificacion VARCHAR(50), csb_fecha DATE, persona_pe_id INT NOT NULL, servicios_basicos_sb_id INT NOT NULL, INDEX persona_pe_id_idx (persona_pe_id), INDEX servicios_basicos_sb_id_idx (servicios_basicos_sb_id), PRIMARY KEY(csb_id)) ENGINE = INNODB;
CREATE TABLE PAGOS (pa_id INT AUTO_INCREMENT, pa_numero_factura CHAR(17), pa_fecha DATE, pa_detalle TEXT, pa_iva DECIMAL(10, 2), pa_ice DECIMAL(10, 2), pa_comision DECIMAL(10, 2), pa_valor_total DECIMAL(10, 2), pa_respaldo LONGBLOB, persona_pe_id INT NOT NULL, INDEX persona_pe_id_idx (persona_pe_id), PRIMARY KEY(pa_id)) ENGINE = INNODB;
CREATE TABLE PERSONA (pe_id INT AUTO_INCREMENT, pe_cedula VARCHAR(100), pe_nombres VARCHAR(100), pe_apellidos VARCHAR(100), pe_fecha_nacimiento DATE, pe_imagen LONGBLOB, pe_email VARCHAR(100), pe_usr VARCHAR(100), pe_pwd VARCHAR(50), PRIMARY KEY(pe_id)) ENGINE = INNODB;
CREATE TABLE SERVICIOS_BASICOS (sb_id INT AUTO_INCREMENT, sb_entidad VARCHAR(100), sb_entidad_alias VARCHAR(50), sb_direccion TEXT, sb_sitio_web VARCHAR(100), PRIMARY KEY(sb_id)) ENGINE = INNODB;
CREATE TABLE TELEFONOS (te_id INT AUTO_INCREMENT, te_numero CHAR(9), te_ext CHAR(5), servicios_basicos_sb_id INT NOT NULL, INDEX servicios_basicos_sb_id_idx (servicios_basicos_sb_id), PRIMARY KEY(te_id)) ENGINE = INNODB;
ALTER TABLE CONTRATAR_SB ADD CONSTRAINT CONTRATAR_SB_servicios_basicos_sb_id_SERVICIOS_BASICOS_sb_id FOREIGN KEY (servicios_basicos_sb_id) REFERENCES SERVICIOS_BASICOS(sb_id);
ALTER TABLE CONTRATAR_SB ADD CONSTRAINT CONTRATAR_SB_persona_pe_id_PERSONA_pe_id FOREIGN KEY (persona_pe_id) REFERENCES PERSONA(pe_id);
ALTER TABLE PAGOS ADD CONSTRAINT PAGOS_persona_pe_id_PERSONA_pe_id FOREIGN KEY (persona_pe_id) REFERENCES PERSONA(pe_id);
ALTER TABLE TELEFONOS ADD CONSTRAINT TELEFONOS_servicios_basicos_sb_id_SERVICIOS_BASICOS_sb_id FOREIGN KEY (servicios_basicos_sb_id) REFERENCES SERVICIOS_BASICOS(sb_id);
